# This is the configuration file for Icinga DB.
# Managed by Puppet

database:
  type: <%= @db_type %>
  host: <%= @db_host %>
  port: <%= @db_port %>
  database: <%= @db_name %>
  user: <%= @db_username %>
  password: <%= @db_password %>

redis:
  host: <%= @redis_host %>
  port: <%= @redis_port %>
  <%- if @redis_password -%>
  password: <%= @redis_password %>
  <%- end -%>

logging:
  level: <%= @logging_level %>
  output: <%= @logging_output %>
  <%- if @logging_options -%>
  options:
    <%- @logging_options.each do |key,value| -%>
    <%= key %>: <%= value %>
    <%- end -%>
  <%- end -%>

retention:
  <%- if @history_days -%>
  history-days: <%= @history_days -%>
  <%- end -%>
  <%- if @sla_days -%>
  sla-days: <%= @sla_days -%>
  <%- end -%>
  <%- if not @retention_options.nil? -%>
  options:
    <%- @retention_options.each do |key,value| -%>
    <%= key %>: <%= value %>
    <%- end -%>
  <%- end -%>
